<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to assessor â€¢ assessor</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to assessor">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">assessor</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/assessor.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/2pm.html">Two part</a></li>
    <li><a class="dropdown-item" href="../articles/disc.html">Discrete</a></li>
    <li><a class="dropdown-item" href="../articles/ord.html">Ordered curve</a></li>
    <li><a class="dropdown-item" href="../articles/quasi.html">Quasi Emprical residuals functions</a></li>
    <li><a class="dropdown-item" href="../articles/semiconti.html">Semicontinuous</a></li>
    <li><a class="dropdown-item" href="../articles/zeroinfl.html">Zero-inflated discrete</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jhlee1408/assessor/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to assessor</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jhlee1408/assessor/blob/master/vignettes/assessor.Rmd" class="external-link"><code>vignettes/assessor.Rmd</code></a></small>
      <div class="d-none name"><code>assessor.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="assessor">assessor<a class="anchor" aria-label="anchor" href="#assessor"></a>
</h2>
<p>The goal of assessor is to provide assessment tools for regression
models with discrete and semicontinuous outcomes proposed in <a href="https://arxiv.org/pdf/2308.15596.pdf" class="external-link">Yang (2024)</a> and and <a href="https://arxiv.org/pdf/2401.06347.pdf" class="external-link">Yang(2024)</a>. It
calculates the double probability integral transform (DPIT) residuals,
constructs QQ plots of residuals for model diagnostics, and constructs
the ordered curve for assessing mean structures.</p>
<div class="section level3">
<h3 id="general-function-arguments">General function arguments<a class="anchor" aria-label="anchor" href="#general-function-arguments"></a>
</h3>
<p>In <code>assessor</code>, there are functions for calculating DPIT
residuals for the various type of models: discrete, zero-inflated, and
semi-continuous outcome regression models. <code><a href="../reference/resid_disc.html">resid_disc()</a></code>,
<code><a href="../reference/resid_zeroinfl.html">resid_zeroinfl()</a></code>, <code><a href="../reference/resid_semiconti.html">resid_semiconti()</a></code>, and
<code><a href="../reference/resid_2pm.html">resid_2pm()</a></code> are functions evaluating DPIT residuals for
discrete, zero-inflated discrete, semicontinuous, and two-part outcomes,
respectively. They share the same arguments:</p>
<ul>
<li><p><code>model</code>: Each function supports certain types of model
objects. Check below on which model objects are applicable.</p></li>
<li><p><code>plot</code>: If you set <code>plot=TRUE</code>, the
function will return a QQ-plot of DPIT residuals. Some users may only
need the QQ-plot. In that case, <code><a href="../reference/qqresid.html">qqresid()</a></code> only returns the
QQ-plot without returning the DPIT residuals.</p></li>
<li><p><code>scale</code>: You can choose the scale of the residuals
among <code>normal</code> and <code>uniform</code> scales. The sample
quantiles of the residuals are plotted against the theoretical quantiles
of a standard normal distribution under the normal scale, and against
the theoretical quantiles of a uniform (0,1) distribution under the
uniform scale. The default scale is <code>normal</code>.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="real-data-example">Real data example<a class="anchor" aria-label="anchor" href="#real-data-example"></a>
</h3>
<p>The <code>solder</code> data, extracted from the <code>faraway</code>
package, lends itself to fitting through either Poisson regression or
Negative Binomial regression. The selection between these models depends
on the underlying distribution characteristics of the data. To validate
the distribution assumption, a comprehensive approach involves assessing
the DPIT residuals and scrutinizing the QQ plot derived from these
residuals.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jhlee1408.github.io/assessor/">assessor</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/julianfaraway/faraway" class="external-link">faraway</a></span><span class="op">)</span> </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/" class="external-link">MASS</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"solder"</span><span class="op">)</span> <span class="co"># from faraway package</span></span>
<span></span>
<span></span>
<span><span class="co">## Negative Binomial</span></span>
<span><span class="va">modpnb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/MASS/man/glm.nb.html" class="external-link">glm.nb</a></span><span class="op">(</span><span class="va">skips</span><span class="op">~</span><span class="va">.</span>,data<span class="op">=</span><span class="va">solder</span><span class="op">)</span></span>
<span><span class="va">modp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">skips</span><span class="op">~</span><span class="va">.</span>,famil<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">poisson</a></span><span class="op">(</span>link<span class="op">=</span><span class="st">"log"</span><span class="op">)</span>,data<span class="op">=</span><span class="va">solder</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## QQ-plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">poi.resid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/resid_disc.html">resid_disc</a></span><span class="op">(</span><span class="va">modp</span>,plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">norm.resid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/resid_disc.html">resid_disc</a></span><span class="op">(</span><span class="va">modpnb</span>,plot <span class="op">=</span> <span class="cn">TRUE</span>, scale <span class="op">=</span> <span class="st">"normal"</span><span class="op">)</span></span>
<span><span class="va">unif.resid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/resid_disc.html">resid_disc</a></span><span class="op">(</span><span class="va">modpnb</span>,plot <span class="op">=</span> <span class="cn">TRUE</span>, scale <span class="op">=</span> <span class="st">"uniform"</span><span class="op">)</span></span></code></pre></div>
<p><img src="assessor_files/figure-html/example-1.png" width="672"></p>
<p>The left panel of the figure above presents the QQ plot of the DPIT
residuals when we use a Poisson GLM (<code>modp</code>). The residuals
display a pronounced S-shaped pattern, hinting at potential
overdispersion.</p>
<p>The second and third panels present the of DPIT residuals of the
negative binomial regression (<code>modpnb</code>) on different scales.
Both plots align closely along the diagonal line, suggesting that the
assumption of negative binomial distribution appears appropriate. The
only distinction between them lies in the <code>scale</code> parameter;
the middle panel displays the plot on the normal scale, with the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math>
axes spanning beyond (0,1), while the right panel limits the axes to a
range of 0 to 1.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://luyang95.github.io" class="external-link">Lu Yang</a>, Jeonghwan Lee.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
