<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="assessor">
<title>Introduction to assessor â€¢ assessor</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to assessor">
<meta property="og:description" content="assessor">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">assessor</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/assessor.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/2pm.html">Two part</a>
    <a class="dropdown-item" href="../articles/disc.html">Discrete</a>
    <a class="dropdown-item" href="../articles/ord.html">Ordered curve</a>
    <a class="dropdown-item" href="../articles/semiconti.html">Semicontinuous</a>
    <a class="dropdown-item" href="../articles/zeroinfl.html">Zero-inflated discrete</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jhlee1408/assessor/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to assessor</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jhlee1408/assessor/blob/HEAD/vignettes/assessor.Rmd" class="external-link"><code>vignettes/assessor.Rmd</code></a></small>
      <div class="d-none name"><code>assessor.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="assessor">assessor<a class="anchor" aria-label="anchor" href="#assessor"></a>
</h2>
<p>The goal of assessor is to provide assessment tools for regression
models with discrete and semicontinuous outcomes proposed in <a href="https://arxiv.org/pdf/2308.15596.pdf" class="external-link">Yang (2023)</a>. It
calculates the double probability integral transform (DPIT) residuals,
constructs QQ plots of residuals and the ordered curve for assessing
mean structures.</p>
<div class="section level3">
<h3 id="general-function-arguments">General function arguments<a class="anchor" aria-label="anchor" href="#general-function-arguments"></a>
</h3>
<p>In <code>assessor</code>, there are functions for assessing DPIT
residuals for the various type of models: discrete, zero-inflated, and
semi-continuous outcome regression models. <code><a href="../reference/resid_disc.html">resid_disc()</a></code>,
<code><a href="../reference/resid_zeroinfl.html">resid_zeroinfl()</a></code>, <code><a href="../reference/resid_semiconti.html">resid_semiconti()</a></code> and
<code><a href="../reference/resid_2pm.html">resid_2pm()</a></code> are functions evaluating DPIT residuals. They
share the same arguments:</p>
<ul>
<li><p><code>model</code>: Each function supports different types of
model objects. Check below which model objects are applicable.</p></li>
<li><p><code>plot</code>:If you set <code>plot=T</code>, a function will
return QQ-plot drawn with DPIT residuals, or vice versa. Some users may
only need the QQ-plot. In that case, <code><a href="../reference/qqresid.html">qqresid()</a></code> only returns
the QQ-plot without returning the DPIT residuals.</p></li>
<li><p><code>scale</code>: You can choose the scale of the residuals
among <code>normal</code> and <code>uniform</code> scales. The sample
quantiles of the residuals are plotted against the theoretical quantiles
of a standard normal distribution under the normal scale, and against
the theoretical quantiles of a uniform (0,1) distribution under the
uniform scale. The default scale is <code>normal</code></p></li>
</ul>
</div>
<div class="section level3">
<h3 id="real-data-example">Real data example<a class="anchor" aria-label="anchor" href="#real-data-example"></a>
</h3>
<p>The <code>solder</code> data, extracted from the <code>faraway</code>
package, lends itself to fitting through either Poisson regression or
Negative Binomial regression. The selection between these models depends
on the underlying distribution characteristics of the data. To validate
the distribution assumption, a comprehensive approach involves assessing
the DPIT residuals and scrutinizing the QQ plot derived from these
residuals.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jhlee1408/assessor" class="external-link">assessor</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/julianfaraway/faraway" class="external-link">faraway</a></span><span class="op">)</span> </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/" class="external-link">MASS</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"solder"</span><span class="op">)</span> <span class="co"># from faraway package</span></span>
<span></span>
<span></span>
<span><span class="co">## Negative Binomial</span></span>
<span><span class="va">modpnb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/MASS/man/glm.nb.html" class="external-link">glm.nb</a></span><span class="op">(</span><span class="va">skips</span><span class="op">~</span><span class="va">.</span>,data<span class="op">=</span><span class="va">solder</span><span class="op">)</span></span>
<span><span class="va">modp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">skips</span><span class="op">~</span><span class="va">.</span>,famil<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">poisson</a></span><span class="op">(</span>link<span class="op">=</span><span class="st">"log"</span><span class="op">)</span>,data<span class="op">=</span><span class="va">solder</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## QQ-plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">poi.resid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/resid_disc.html">resid_disc</a></span><span class="op">(</span><span class="va">modp</span>,plot <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">norm.resid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/resid_disc.html">resid_disc</a></span><span class="op">(</span><span class="va">modpnb</span>,plot <span class="op">=</span> <span class="cn">T</span>, scale <span class="op">=</span> <span class="st">"normal"</span><span class="op">)</span></span>
<span><span class="va">unif.resid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/resid_disc.html">resid_disc</a></span><span class="op">(</span><span class="va">modpnb</span>,plot <span class="op">=</span> <span class="cn">T</span>, scale <span class="op">=</span> <span class="st">"uniform"</span><span class="op">)</span></span></code></pre></div>
<p><img src="assessor_files/figure-html/example-1.png" width="672"></p>
<p>The figure above depicts three versions of QQ plots. The second and
third plots essentially represent the same graph, corresponding to the
QQ plot for Negative Binomial regression (<code>modpnb</code>). Both
plots align closely along the diagonal line, suggesting that the
assumption of Negative Binomial distribution appears appropriate. The
only distinction between them lies in the <code>scale</code> parameter;
the middle panel displays the plot in normal scale, with the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> axes spanning values larger than 1,
while the right panel limits the axes to a range of 0 to 1.</p>
<p>Conversely, the left panel corresponds to the QQ plot from Poisson
regression (<code>modp</code>). In this plot, a slight deviation from
the diagonal line is observed. Consequently, we can infer that the
outcome variable, <code>skips</code>, is more likely to follow a
Negative Binomial distribution rather than a Poisson distribution. This
inference is drawn based on the examination of QQ plots generated by
DPIT residuals, highlighting the suitability of the Negative Binomial
model for capturing the distributional characteristics of the data.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://luyang95.github.io" class="external-link">Lu Yang</a>, Jeonghwan Lee.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
